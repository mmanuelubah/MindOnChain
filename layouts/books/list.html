{{ define "main" }}
<section class="bookshelf">
  <h1>Bookshelf</h1>

  <div class="bookshelf-list">
    {{ range (where .Pages "Type" "books") }}
      <div class="book-row">
        <a class="book-title" href="{{ .Params.link }}" target="_blank">
          {{ .Title }} →
        </a>

        <p class="book-status">
          {{ if eq .Params.status "Read" }}
            Read • {{ .Date.Format "2006" }}
          {{ else if eq .Params.status "Reading" }}
            Reading • {{ .Date.Format "2006" }}
          {{ else }}
            Unread
          {{ end }}
        </p>
      </div>
    {{ end }}
  </div>
</section>

<style>
.bookshelf {
  max-width: 650px;
  margin: 2rem auto;
  padding: 0 1rem;
}

.bookshelf-list {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

/* Single book row */
.book-row {
  border-bottom: 1px solid rgba(150,150,150,0.2);
  padding-bottom: 1rem;
}

/* Title + arrow */
.book-title {
  font-size: 1.1rem;
  font-weight: 600;
  text-decoration: none;
  color: var(--color-text);
}

/* Status line below title */
.book-status {
  margin-top: 0.3rem;
  font-size: 0.85rem;
  opacity: 0.7;
}
</style>
{{ end }}
